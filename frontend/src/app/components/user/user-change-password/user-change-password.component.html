<div class="container">
  <div class="user-view">
    <h1>Set New Password</h1>
    <div class="update-password-form">
      <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
        <!-- Current Password -->
        <div class="form-group">
          <label for="currentPassword">Current Password</label>
          <input
            type="password"
            id="currentPassword"
            class="form-control"
            formControlName="currentPassword"
            placeholder="Enter your current password..."
          />
          <div *ngIf="submitted && passwordForm.get('currentPassword')?.errors" class="error">
            <small *ngIf="passwordForm.get('currentPassword')?.hasError('required')">
              Current password is required!
            </small>
          </div>
        </div>

        <div class="form-group">
          <label for="newPassword">New Password</label>
          <input
            type="password"
            id="newPassword"
            class="form-control"
            formControlName="newPassword"
            placeholder="Enter your new password..."
          />
          <div *ngIf="submitted && passwordForm.get('newPassword')?.errors" class="error">
            <small class="form-text text-warning" *ngIf="passwordForm.get('newPassword')?.hasError('required')">
              New password is required!
            </small>
            <small class="form-text text-warning" *ngIf="passwordForm.get('newPassword')?.hasError('minlength')">
              New password must be at least 8 characters long!
            </small>
            <small class="form-text text-warning" *ngIf="passwordForm.get('newPassword')?.hasError('invalidPassword')">
              New password must contain at least one uppercase letter, one number, and one special character!
            </small>
          </div>
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm New Password</label>
          <input
            type="password"
            id="confirmPassword"
            class="form-control"
            formControlName="confirmPassword"
            placeholder="Re-enter your new password..."
          />
          <div *ngIf="submitted && passwordForm.errors?.passwordsMismatch" class="error">
            <small class="form-text text-warning">Passwords do not match!</small>
          </div>
        </div>

        <div class="mt-4 d-flex flex-row">
          <button type="submit" class="btn btn-custom flex-grow-1">Update Password</button>
        </div>
      </form>
    </div>
  </div>
</div>
